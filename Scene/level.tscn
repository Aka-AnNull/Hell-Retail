[gd_scene load_steps=30 format=3 uid="uid://bhkkxgqsmks02"]

[ext_resource type="Script" uid="uid://bjomty5twa62f" path="res://Script/level.gd" id="1_or6n4"]
[ext_resource type="Texture2D" uid="uid://dhhnfvhgb6j68" path="res://Sprite/BG/BG.png" id="2_3qma8"]
[ext_resource type="PackedScene" uid="uid://l1bhryukeiwu" path="res://Scene/player.tscn" id="2_jnrmd"]
[ext_resource type="PackedScene" uid="uid://twkkl6x53d4o" path="res://Scene/Fade_transition.tscn" id="2_tut6d"]
[ext_resource type="Texture2D" uid="uid://capkovydn2v7g" path="res://Sprite/shelf/What_7.png" id="3_ovno7"]
[ext_resource type="Script" uid="uid://ddvwicdjtcvm4" path="res://Script/spawner.gd" id="3_slp34"]
[ext_resource type="FontFile" uid="uid://bjvinrnu5nnxa" path="res://Resorces/m5x7.ttf" id="6_3d31u"]
[ext_resource type="PackedScene" uid="uid://tws0wveogunt" path="res://Scene/Shelf.tscn" id="6_p7rx0"]
[ext_resource type="Texture2D" uid="uid://qrvq6cy48qkl" path="res://Sprite/shelf/Whatee_1.png" id="7_60ewi"]
[ext_resource type="Script" uid="uid://cqbffiaqbawns" path="res://Script/cashier_zone.gd" id="7_hdt71"]
[ext_resource type="PackedScene" uid="uid://cdcleupalwlhf" path="res://Scene/Ghost.tscn" id="7_iysjp"]
[ext_resource type="Texture2D" uid="uid://dyd0hauobix3p" path="res://Sprite/shelf/Whatee_2.png" id="8_k0fkb"]
[ext_resource type="Texture2D" uid="uid://boscf57ldhp56" path="res://Sprite/shelf/Whatee_4.png" id="8_sxkop"]
[ext_resource type="Texture2D" uid="uid://bxlulmhdyj4b5" path="res://Sprite/BG/pixelated-cave-entrance-s17m36l2wfzrfscb.png" id="9_3qma8"]
[ext_resource type="Texture2D" uid="uid://dyb8pgncyvlfj" path="res://Sprite/shelf/Sh3lf_1.png" id="10_7lp0r"]
[ext_resource type="Texture2D" uid="uid://bsll1u0heymi7" path="res://Sprite/shelf/Whatee_3.png" id="10_ncqyi"]
[ext_resource type="Texture2D" uid="uid://wuijymxsi3bi" path="res://Sprite/shelf/Whatee_6.png" id="10_ovno7"]
[ext_resource type="Texture2D" uid="uid://souoqcu88ft8" path="res://Sprite/shelf/Sh3lf_2.png" id="11_btxmf"]
[ext_resource type="Texture2D" uid="uid://dxers6w81u71e" path="res://Sprite/shelf/Sh3lf_3.png" id="11_k0fkb"]
[ext_resource type="Texture2D" uid="uid://q3ksa58jrlbx" path="res://Sprite/shelf/Whatee_5.png" id="12_f43hl"]
[ext_resource type="Texture2D" uid="uid://dvbk4k81wqsuf" path="res://Sprite/shelf/Whatee_7.png" id="13_gq3if"]
[ext_resource type="PackedScene" uid="uid://csch13p5msvkg" path="res://Scene/StockPile.tscn" id="13_pivpx"]
[ext_resource type="PackedScene" uid="uid://dt6myf7lkv4tw" path="res://Scene/UserInterface.tscn" id="14_55t6b"]
[ext_resource type="PackedScene" uid="uid://bfrfq4235i5lq" path="res://Scene/zombie.tscn" id="21_kv3de"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_60ewi"]
size = Vector2(377.5, 1055.0001)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3qma8"]
size = Vector2(19, 431)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_637vb"]
size = Vector2(242, 215)

[sub_resource type="LabelSettings" id="LabelSettings_55t6b"]
line_spacing = 0.0
font = ExtResource("6_3d31u")
font_size = 34
outline_size = 7
outline_color = Color(0, 0, 0, 1)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_637vb"]
vertices = PackedVector2Array(1213.5703, 663.9375, 1233.6094, 680.03125, 555.46875, 648.8203, 582.3125, 630.6797, 1227.7891, 477.3203, 1228.3906, 495.28125, 1233.0078, 646.6406, 1204.9922, 494.75, 1204.0938, 476.65625, 553.8281, 629.14844, 558, 629.3672, 579.6406, 477.4297, 558, 144.40625, 1187.1406, 142.75, 1187.0234, 140.29688, 1216.5625, 140.71875, 1216.6094, 142.29688, 1188.8281, 175.38281, 1217.7813, 175.17969, 1003.0078, 176.72656, 1003.02344, 177, 952.3125, 177, 952.89844, 137.42188, 546.5703, 144.60938, 547.4375, 114.07031, 953.2422, 115.67969, 1231.9688, 477.4297, 1231.0391, 495.35938, 1219.5469, 142.25781, 1220.4531, 175.14844, 1012.8125, 145.28906, 1012.3203, 115.90625, 1001.1406, 115.86719, 954.7031, 19.523438, 997.7031, 18.46875, 577.03125, 144.09375, 580.6094, 459.46875, 1233.4063, 646.5781)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 6, 1, 0, 7, 8), PackedInt32Array(3, 2, 9, 10), PackedInt32Array(11, 3, 10, 12), PackedInt32Array(13, 14, 15, 16, 17), PackedInt32Array(18, 4, 8, 17, 16), PackedInt32Array(19, 20, 21, 22), PackedInt32Array(12, 23, 24, 25), PackedInt32Array(4, 26, 27, 5), PackedInt32Array(28, 29, 18, 16), PackedInt32Array(13, 17, 19, 30), PackedInt32Array(31, 30, 19, 22, 32), PackedInt32Array(33, 34, 32, 25), PackedInt32Array(12, 25, 32, 22, 35), PackedInt32Array(11, 12, 35, 36), PackedInt32Array(7, 11, 36, 8), PackedInt32Array(6, 5, 37)])
outlines = Array[PackedVector2Array]([PackedVector2Array(935, 0, 1017, -2, 1024, 197, 932, 197), PackedVector2Array(964, 126, 1239, 122, 1241, 195, 967, 197), PackedVector2Array(1236, 121, 1254, 664, 1194, 673, 1166, 120), PackedVector2Array(1254, 701, 537, 668, 532, 608, 1253, 646), PackedVector2Array(538, 665, 538, 144, 597, 141, 600.39136, 440.0069, 1253, 458, 1250, 516, 600, 498, 603, 670), PackedVector2Array(528, 94, 1032, 96, 1033, 156, 976.84503, 156.99683, 526, 165)])
agent_radius = 20.0

[node name="Level" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_or6n4")

[node name="BG" type="Sprite2D" parent="."]
z_index = -2
position = Vector2(587.49994, 462)
scale = Vector2(1.2804765, 1.5305785)
texture = ExtResource("2_3qma8")
metadata/_edit_lock_ = true

[node name="CashierPic" type="StaticBody2D" parent="."]
position = Vector2(484, 311)

[node name="Sprite2D" type="Sprite2D" parent="CashierPic"]
z_index = -1
position = Vector2(-9.000007, -99.99999)
scale = Vector2(0.069843754, 0.069843754)
texture = ExtResource("3_ovno7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CashierPic"]
position = Vector2(0, -106)
scale = Vector2(0.19999996, 0.19999996)
shape = SubResource("RectangleShape2D_60ewi")
metadata/_edit_lock_ = true

[node name="Map Border" type="StaticBody2D" parent="."]
position = Vector2(65, 45)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Map Border"]
position = Vector2(-65, -45)
polygon = PackedVector2Array(-93, -109, 1401, -111, 1403, 834, -106, 845, -103, 720, 1280, 720, 1280, 100, 0, 100, 0, 720, -102, 699)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map Border"]
position = Vector2(262, 459)
shape = SubResource("RectangleShape2D_3qma8")

[node name="PixelatedCaveEntranceS17m36l2Wfzrfscb" type="Sprite2D" parent="."]
position = Vector2(982, 31.000004)
scale = Vector2(0.26647833, 0.30725622)
texture = ExtResource("9_3qma8")
metadata/_edit_lock_ = true

[node name="CashierZone" type="Area2D" parent="."]
position = Vector2(506, 209.50002)
collision_layer = 7
collision_mask = 7
script = ExtResource("7_hdt71")
metadata/_edit_lock_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="CashierZone"]
position = Vector2(-14, -3.5)
shape = SubResource("RectangleShape2D_637vb")

[node name="WorkTimer" type="Timer" parent="CashierZone"]
wait_time = 2.0
one_shot = true

[node name="PromptLabel" type="Label" parent="CashierZone"]
visible = false
z_index = 2
offset_left = -80.0
offset_top = -29.500015
offset_right = 44.0
offset_bottom = -1.5000153
text = "[E] interact"
label_settings = SubResource("LabelSettings_55t6b")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
position = Vector2(-4, 12)
navigation_polygon = SubResource("NavigationPolygon_637vb")
navigation_layers = 3

[node name="DoorPosition" type="Marker2D" parent="."]
position = Vector2(977, 19)

[node name="Marker1" type="Marker2D" parent="."]
position = Vector2(975, 184)

[node name="Marker2" type="Marker2D" parent="."]
position = Vector2(1197, 208)

[node name="Stock1" parent="." instance=ExtResource("13_pivpx")]
y_sort_enabled = true
position = Vector2(77, 142)
stock_image = ExtResource("8_sxkop")

[node name="Stock2" parent="." instance=ExtResource("13_pivpx")]
y_sort_enabled = true
position = Vector2(250, 142)
item_name = "Coke"
stock_image = ExtResource("7_60ewi")

[node name="Stock3" parent="." instance=ExtResource("13_pivpx")]
y_sort_enabled = true
position = Vector2(77, 252)
item_name = "Sprite"
stock_image = ExtResource("10_ovno7")

[node name="Stock4" parent="." instance=ExtResource("13_pivpx")]
y_sort_enabled = true
position = Vector2(77, 362)
item_name = "Pepsi"
stock_image = ExtResource("10_ncqyi")

[node name="Stock5" parent="." instance=ExtResource("13_pivpx")]
y_sort_enabled = true
position = Vector2(77, 472)
item_name = "Fanta"
stock_image = ExtResource("12_f43hl")

[node name="Stock6" parent="." instance=ExtResource("13_pivpx")]
y_sort_enabled = true
position = Vector2(77, 582)
item_name = "Est"
stock_image = ExtResource("13_gq3if")

[node name="Stock7" parent="." instance=ExtResource("13_pivpx")]
y_sort_enabled = true
position = Vector2(77, 692)
item_name = "Sarsi"
stock_image = ExtResource("8_k0fkb")

[node name="Shelf1" parent="." instance=ExtResource("6_p7rx0")]
y_sort_enabled = true
position = Vector2(750, 630)

[node name="Shelf2" parent="." instance=ExtResource("6_p7rx0")]
y_sort_enabled = true
position = Vector2(750, 460)
required_item = "Coke"
shelf_image = ExtResource("10_7lp0r")

[node name="Shelf3" parent="." instance=ExtResource("6_p7rx0")]
y_sort_enabled = true
position = Vector2(1030, 460)
required_item = "Sprite"
shelf_image = ExtResource("11_btxmf")

[node name="Shelf4" parent="." instance=ExtResource("6_p7rx0")]
y_sort_enabled = true
position = Vector2(1030, 630)
required_item = "Pepsi"
shelf_image = ExtResource("11_k0fkb")

[node name="Spawner" type="Node2D" parent="."]
position = Vector2(979, -18)
script = ExtResource("3_slp34")
ghost_scene = ExtResource("7_iysjp")
zombie_scene = ExtResource("21_kv3de")

[node name="Timer" type="Timer" parent="Spawner"]

[node name="UI_Layer" type="CanvasLayer" parent="."]

[node name="HUD" parent="UI_Layer" instance=ExtResource("14_55t6b")]
offset_left = 612.0
offset_top = 8.0
offset_right = 652.0
offset_bottom = 48.0

[node name="Player" parent="." groups=["Player"] instance=ExtResource("2_jnrmd")]
y_sort_enabled = true
position = Vector2(929, 280)

[node name="Fade_transition" parent="." instance=ExtResource("2_tut6d")]
visible = false
z_index = 2
